python 软件设计

## 低耦合高内聚

    代码可以多么容易的被改变或者扩展
    两个通用指标
    1 低耦合
        代码之间的依赖程度是否够低
    2  高内聚
        某一类或者某一些功能在一起的程度


### 一 依赖反转

```
高层次的模块不应该依赖于低层次的模块** ，两者都应该依赖于抽象接口
抽象接口不应该依赖于具体实现。而具体实现则应该依赖于抽象接口

```

**python 中可以使用抽象子类的方式实现**

 [改造前代码](./01_dependency_inversion/before.py)   --> [改造后代码](01_dependency_inversion/after.py)

### 二 策略模式

```
一个类的行为或其算法可以在运行时更改。这种类型的设计模式属于行为型模式。
在策略模式中，我们创建表示各种策略的对象和一个行为随着策略对象改变而改变的 context 对象。策略对象改变 context 对象的执行算法。 意图：定义一系列的算法,把它们一个个封装起来, 并且使它们可相互替换。
```

 [改造前代码](./02_strategy_pattern/before.py)   --> [改造后代码](./02_strategy_pattern/after.py)


### 三 观察者模式
```
观察者模式又叫发布-订阅（Publish-Subscribe）模式 其中的订阅表示这些观察者对象需要向目标对象进行注册，这样目标对象才知道有哪些对象在观察它。发布指的是当目标对象的状态改变时，它就向它所有的观察者对象发布状态更改的消息，以让这些观察者对象知晓。
一个目标对象的观察者对象数量是不固定的，可以随时增加新的观察者对象或取消已有的观察者对象。观察者模式的主要优点就是极大地降低了目标对象和观察者对象间的耦合，二者可以独自地改变和复用，让对系统增加功能或删除功能都很方便。

```
 [改造前代码](./03_observer_pattern/obs_before.py)   --> [改造后代码](./03_observer_pattern/obs_after.py)


### 四 模版方法
```
一个抽象类中，有一个主方法，再定义1…n个方法，可以是抽象的，也可以是实际的方法，定义一个类，继承该抽象类，重写抽象方法，通过调用抽象类，实现对子类的调用。


```
 [改造前代码](./03_observer_pattern/obs_before.py)   --> [改造后代码](./03_observer_pattern/obs_after.py)
